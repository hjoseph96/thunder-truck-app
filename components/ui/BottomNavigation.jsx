import React from 'react';
import { View, TouchableOpacity, StyleSheet } from 'react-native';
import Svg, { Path } from 'react-native-svg';

const NavIcon = ({ children, isActive = false }) => (
  <TouchableOpacity style={styles.navItem}>
    {children}
  </TouchableOpacity>
);

export const BottomNavigation = ({ activeTab = 'map' }) => {
  return (
    <View style={styles.bottomNav}>
      <NavIcon isActive={activeTab === 'favorites'}>
        <Svg width="32" height="32" viewBox="0 0 32 32">
          <Path
            d="M16 28.0001L14.0667 26.2668C11.8222 24.2446 9.96669 22.5001 8.50002 21.0334C7.03335 19.5668 5.86669 18.2499 5.00002 17.0828C4.13335 15.9166 3.52802 14.8446 3.18402 13.8668C2.84002 12.889 2.66758 11.889 2.66669 10.8668C2.66669 8.77789 3.36669 7.03345 4.76669 5.63345C6.16669 4.23345 7.91113 3.53345 10 3.53345C11.1556 3.53345 12.2556 3.77789 13.3 4.26678C14.3445 4.75567 15.2445 5.44456 16 6.33345C16.7556 5.44456 17.6556 4.75567 18.7 4.26678C19.7445 3.77789 20.8445 3.53345 22 3.53345C24.0889 3.53345 25.8334 4.23345 27.2334 5.63345C28.6334 7.03345 29.3334 8.77789 29.3334 10.8668C29.3334 11.889 29.1614 12.889 28.8174 13.8668C28.4734 14.8446 27.8676 15.9166 27 17.0828C26.1334 18.2499 24.9667 19.5668 23.5 21.0334C22.0334 22.5001 20.1778 24.2446 17.9334 26.2668L16 28.0001ZM16 24.4001C18.1334 22.489 19.8889 20.8503 21.2667 19.4841C22.6445 18.1179 23.7334 16.929 24.5334 15.9174C25.3334 14.9059 25.8889 14.0054 26.2 13.2161C26.5111 12.4268 26.6667 11.6437 26.6667 10.8668C26.6667 9.53345 26.2222 8.42234 25.3334 7.53345C24.4445 6.64456 23.3334 6.20011 22 6.20011C20.9556 6.20011 19.9889 6.49434 18.1 7.08278C18.2111 7.67122 17.6 8.42145 17.2667 9.33345H14.7334C14.4 8.42234 13.7889 7.67256 12.9 7.08411C12.0111 6.49567 11.0445 6.201 10 6.20011C8.66669 6.20011 7.55558 6.64456 6.66669 7.53345C5.7778 8.42234 5.33335 9.53409 5.33335 10.8668C5.33335 11.6446 5.48891 12.4281 5.80002 13.2174C6.11113 14.0068 6.66669 14.9068 7.46669 15.9174C8.26669 16.9281 9.35558 18.117 10.7334 19.4841C12.1111 20.8512 13.8667 22.4899 16 24.4001Z"
            fill="#fecd15"
          />
        </Svg>
      </NavIcon>

      <NavIcon isActive={activeTab === 'map'}>
        <Svg width="32" height="32" viewBox="0 0 32 32">
          <Path
            d="M16 2.66675C8.64002 2.66675 2.66669 8.64008 2.66669 16.0001C2.66669 23.3601 8.64002 29.3334 16 29.3334C23.36 29.3334 29.3334 23.3601 29.3334 16.0001C29.3334 8.64008 23.36 2.66675 16 2.66675ZM16 26.6667C10.12 26.6667 5.33335 21.8801 5.33335 16.0001C5.33335 10.1201 10.12 5.33341 16 5.33341C21.88 5.33341 26.6667 10.1201 26.6667 16.0001C26.6667 21.8801 21.88 26.6667 16 26.6667ZM8.66669 23.3334L18.68 18.6801L23.3334 8.66675L13.32 13.3201L8.66669 23.3334ZM16 14.5334C16.8134 14.5334 17.4667 15.1867 17.4667 16.0001C17.4667 16.8134 16.8134 17.4667 16 17.4667C15.1867 17.4667 14.5334 16.8134 14.5334 16.0001C14.5334 15.1867 15.1867 14.5334 16 14.5334Z"
            fill={activeTab === 'map' ? "#007cff" : "#fecd15"}
          />
        </Svg>
      </NavIcon>

      <NavIcon isActive={activeTab === 'notifications'}>
        <Svg width="32" height="32" viewBox="0 0 32 32">
          <Path
            d="M28.707 19.293L26 16.586V13C25.9969 10.5218 25.075 8.13285 23.4126 6.29498C21.7502 4.45712 19.4654 3.30093 17 3.05V1H15V3.05C12.5346 3.30093 10.2498 4.45712 8.58737 6.29498C6.92498 8.13285 6.0031 10.5218 6 13V16.586L3.293 19.293C3.10545 19.4805 3.00006 19.7348 3 20V23C3 23.2652 3.10536 23.5196 3.29289 23.7071C3.48043 23.8946 3.73478 24 4 24H11V24.777C10.9782 26.0456 11.4254 27.2777 12.2558 28.237C13.0862 29.1964 14.2414 29.8156 15.5 29.976C16.1952 30.0449 16.8971 29.9676 17.5606 29.749C18.2241 29.5304 18.8345 29.1753 19.3525 28.7066C19.8706 28.2379 20.2848 27.666 20.5685 27.0277C20.8522 26.3893 20.9992 25.6986 21 25V24H28C28.2652 24 28.5196 23.8946 28.7071 23.7071C28.8946 23.5196 29 23.2652 29 23V20C28.9999 19.7348 28.8946 19.4805 28.707 19.293ZM19 25C19 25.7956 18.6839 26.5587 18.1213 27.1213C17.5587 27.6839 16.7956 28 16 28C15.2044 28 14.4413 27.6839 13.8787 27.1213C13.3161 26.5587 13 25.7956 13 25V24H19V25ZM27 22H5V20.414L7.707 17.707C7.89455 17.5195 7.99994 17.2652 8 17V13C8 10.8783 8.84285 8.84344 10.3431 7.34315C11.8434 5.84285 13.8783 5 16 5C18.1217 5 20.1566 5.84285 21.6569 7.34315C23.1571 8.84344 24 10.8783 24 13V17C24.0001 17.2652 24.1054 17.5195 24.293 17.707L27 20.414V22Z"
            fill="#fecd15"
          />
        </Svg>
      </NavIcon>

      <NavIcon isActive={activeTab === 'profile'}>
        <Svg width="32" height="32" viewBox="0 0 32 32">
          <Path
            d="M5.33331 29.3333C5.33331 26.5043 6.45712 23.7912 8.45751 21.7908C10.4579 19.7904 13.171 18.6666 16 18.6666C18.829 18.6666 21.5421 19.7904 23.5425 21.7908C25.5428 23.7912 26.6666 26.5043 26.6666 29.3333H24C24 27.2115 23.1571 25.1767 21.6568 23.6764C20.1565 22.1761 18.1217 21.3333 16 21.3333C13.8782 21.3333 11.8434 22.1761 10.3431 23.6764C8.84283 25.1767 7.99998 27.2115 7.99998 29.3333H5.33331ZM16 17.3333C11.58 17.3333 7.99998 13.7533 7.99998 9.33325C7.99998 4.91325 11.58 1.33325 16 1.33325C20.42 1.33325 24 4.91325 24 9.33325C24 13.7533 20.42 17.3333 16 17.3333ZM16 14.6666C18.9466 14.6666 21.3333 12.2799 21.3333 9.33325C21.3333 6.38659 18.9466 3.99992 16 3.99992C13.0533 3.99992 10.6666 6.38659 10.6666 9.33325C10.6666 12.2799 13.0533 14.6666 16 14.6666Z"
            fill="#fecd15"
          />
        </Svg>
      </NavIcon>
    </View>
  );
};

const styles = StyleSheet.create({
  bottomNav: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    alignItems: 'center',
    backgroundColor: '#FFF',
    paddingVertical: 12,
    paddingHorizontal: 20,
    borderTopWidth: 1,
    borderTopColor: '#E0E0E0',
  },
  navItem: {
    padding: 8,
    alignItems: 'center',
    justifyContent: 'center',
  },
});